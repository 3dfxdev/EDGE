
CHANGELOG FOR 1.31-ALPHA (since 1.29)
=====================================

Bugs fixed
----------

+ glitches/small gaps between polygons are fixed.
+ crash with Scuba Steve's flamethrow DEH patch.

- ID(K)FA cheats now give clip weapons full ammo.
- fixed problem saving the 'mipmapping' setting.
- custom sky-boxes should always be used when present.
- fix for filenames (like "foo.bar.wad") containing two dots.
- proper test for existing titlepics in GAMES.DDF.
- fixed console PLAYSOUND cmd when sound is not found.
- fixed badly synchronised flash state of super-shotgun.


Features removed
----------------


General improvements
--------------------

+ new method to emulate DOOM's lighting model.

+ new dynamic lighting,
  DLIGHT2
  LEAKY
  RADIUS not INTENSITY
  MODULATE and ADD (instead of QUADRATIC and LINEAR)

+ improved sky emulation, replacing all the 'SKY STRETCH' options
  with a single mode based on the old MIRROR mode, but tweaked for
  better compatibility with existing DOOM skies.  The old ORIGINAL
  mode now kicks in automatically when MLOOK is disabled.

- better gamma handling (now done by the video driver).
- more robust emulation of the flat-flooding trick.
- console key is configurable.


New features:
-------------

+ MD2 models  @@@@

+ mirrors   @@@

- sector glow effects.  Using one of these commands:

    GLOW_TYPE=FLOOR;
	GLOW_TYPE=CEILING;

  in conjunction with the DLIGHT commands means that the
  dynamic light is transformed into a floor or ceiling glow.
  The brightness and range of the lighting can be adjusted as
  per normal dynamic lights.  The glow is limited to a single
  sector.

- TGA images are now supported by IMAGES.DDF.

  NOTE: so far only RGB mode (uncompressed and RLE) TGA images
        are supported.  Colormapped images are planned.

- flat align/scale linetypes  @@@


DDF / RTS Goodies:
------------------

+ new WEAKNESS feature allows a monster to receive more damage
  from certain attacks than others.  You can also specify a zone
  where the monster must be hit (when hit in other places, the
  weakness does not apply).  The weakness zone can be a height
  range (in percentages) and/or an angle range (in degrees).

  The weakness feature requires 'WEAKNESS.CLASS' to be present,
  specifying what attack classes the monster is weak against.
  Note that it will also _override_ any IMMUNITY or RESISTANCE
  that the monster has (except for the INVULNERABLE special).

  The following example shows all the commands.  Everything
  except 'WEAKNESS.CLASS' is optional.

    WEAKNESS.CLASS=ABC;
    WEAKNESS.HEIGHTS=75%:100%;
    WEAKNESS.ANGLES=150:210;
    WEAKNESS.MULTIPLY=3.0;
    WEAKNESS.PAINCHANCE=100%;

+ BECOME action for THINGS.DDF allows a thing to turn into another
  type of thing.  Can be used on players too.  Health and Side
  values remain the same.  The new state frame can also be given
  (the default is IDLE:1).  Note that becoming something larger
  (bigger RADIUS) can cause the thing to get stuck in walls or
  other objects.  Examples:

    BECOME(CACODEMON)
    BECOME(CACODEMON,CHASE:2)

+ armour association feature.  When you pick up some armour, and
  the thing DDF uses the ARMOUR_PROTECTION command, then various
  properties are remembered for that color of armour.  This new
  ARMOUR_PROTECTION command is the percentage of damage which is
  saved by the armour (100% for all) which overrides the default
  protection rates (e.g. BLUE is normally 50%).
  
  Summary of armour-assocation commands:

    ARMOUR_PROTECTION=99%; // high protection
    ARMOUR_DEPLETION=10%;  // low depletion rate
    ARMOUR_CLASS=B;        // only protects against Bullets
    IMMUNITY_CLASS=C;      // total protection from Close-Combat
    RESISTANCE_CLASS=M;    // resistance against Missiles

  Note: ARMOUR_CLASS overrides the immunity/resistance classes,
  so the above example would fail to provide any immunity or
  resistance because 'C' and 'M' are not in ARMOUR_CLASS. 

- PURPLE armour was added, bringing the number of armours to 5.
  The default protection is 66%, and the layering order (from
  innermost to outermost) is: BLUE, GREEN, PURPLE, YELLOW, RED.

- SIMPLE_ARMOUR special for armour pickups.  It prevents the
  wacky Doom-emulation from kicking in.

- SPAWN action is similar to DROPITEM action, but it doesn't
  force the object to be non-SOLID like DROPITEM does, plus the
  spawned object will have the same Angle and Side as the parent
  object.  The name must be given in brackets, e.g. SPAWN(IMP).

- INVULNERABLE special makes the thing completely immune to
  all attacks.  There are also two new actions to dynamically
  change it: SET_INVULNERABLE and CLEAR_INVULNERABLE, which
  can be used to make monsters with blocking states (like the
  Centaurs in Hexen).

- DLIGHT_COLOUR(#FF00FF) action will change the color of the
  dynamic light.  Note: the secondary dlight, if used, is not
  affected.

- for object brightness, LIT00 - LIT99 can be used in state
  frames instead of the keywords 'NORMAL' and 'BRIGHT'.
  This allows fine-grained control for dynamic lights.

- the existing RESISTANCE_CLASS feature has been supplemented by
  a new RESISTANCE_MULTIPLY command which lets you control how
  much to multiply the damage caused.  The default is 0.4 which
  matches the previously hard-coded value.  Values over 1.0 can
  be used (makes it a weakness instead of resistance).

  Also RESISTANCE_PAINCHANCE can give a different (typically
  lower) chance of entering the pain states from a resistance
  attack.
 
- VAMPIRE attack special and thing special (for monsters and
  players) which causes the inflictor of damage to gain the
  same amount of health as the damage done to the target.

- new player states: JUMP, FLY, SWIM, CLIMB.
  CHECK_ACTIVITY

- @@@ . CRUSH_DAMAGE for crushers in lines.ddf

- Weapons.ddf: SHARED_CLIP=TRUE  @@@

- Weapons.ddf: allow 'SEC_ATTACK' to mean 'SECOND_ATTACK' for
  consistency with all the other SEC_XXX commands.

- RTS: 'WHEN=xxx' tag for SPAWNTHING commands.

