
CHANGELOG FOR 1.29 (since 1.28)
===============================

(Date: NOVEMBER 15th 2004)


Bugs fixed
----------

+ crash loading a savegame with dynamic lights when D/L disabled.

- Arch-vile no longer resurrects monsters into itself.
- don't display "Entering" on intermission when map is last one.
- fix for ONCONDITION <weapon> in RTS scripts.
- fix for teleport on MAP06 (going to wrong place).
- boss brain can now be hurt from rocket explosions.
- quotes (") usable in response files (for filenames with spaces).
- DDF parser will catch angles > 360 degrees.
- watching a moving monster while dead is now smoother.
- allow KEY_GREENCARD and KEY_GREENSKULL in DDF.
- texture vertical mis-alignment in some rare cases fixed.
- berserk strength now lasts the whole level.
- night vision wasn't affecting the sky, fixed.
- damage over 1000 no longer hurts invulnerable players.


Fixes shared with 1.28A
-----------------------

+ Windows 95 support.
+ fix the crouching bug.

- look for patch lumps first in between P_START/P_END.
- handle ALT+TAB better under Windows.
- handle non-power-of-two textures in GL mode.
- allow brain-shooter without any shoot spots (Darren Salt).
- allow compiling without DEVELOPERS define (Darren Salt).
- fix for some memory trashing problems (Darren Salt).


Features removed:
-----------------

+ software rendering has been removed.  We don't have the time to
  maintain the software renderer anymore, and keeping two renderers
  means that adding new features (like slopes and models) needs
  twice as much work (maybe more -- doing things with OpenGL is
  usually easier than doing it in software).

- using { } comments in DDF files, and ';' comments in RTS scripts
  is now deprecated, since these characters will probably be needed
  in the future when improving DDF/RTS.  Use // comments instead.


General improvements
--------------------

+ drag and drop support.  You no longer have to use the -file option
  to specify filenames (wad files etc).  Everything before the first
  option is considered a filename to add.  This allows you to drag a
  simple (self-contained) WAD onto the EDGE executable to play it.

(FINISHED??)  new sound system, using OpenAL (a 3D audio library). 

(NOT FINISHED) support for OGG Vorbis Music playing.  @@@

+ native support for DeHackEd and BEX patches, both as normal files
  (with .DEH or .BEX extension), and also as DEHACKED lump in a wad.
  Patch files can be added with the -deh option (like in other Doom
  engines).  EDGE converts the patches to DDF, and stores the result
  in files with the .HWA extension, which are loaded automatically.

(NOT FINISHED) new startup.  @@@ no more windows console window.

- Linux: fatal errors produce a pop-up dialog box.  EDGE can now be
  run by double clicking the executable.  Support for CD music.

(NOT FINISHED) support V3 of GL-NODES.  glbsp 2.10, Deus Vult MAP05, BLAH

- a small improvement to Boom compatibility: line-to-line teleporters
  and the platform toggle linetypes were added.

- source code uses more C++ features, and more of the EPI (Edge Platform
  Interface).  The "Zone" memory manager has mostly been replaced.

- gameplay option to disable automatic weapon switches.
- sky looks a bit better, with a stretch option in Video menu.
- the old "sky flooding" trick is now emulated.
- emulate the FRIEND bit on things in the map.
- missing wad files (given with -file) now produce an error.
- monster spawning will keep the parent's AMBUSH status.
- night vision and god-mode effects use colour from colourmap.
- RTS tips are sent to the console.


New features:
-------------

+ new RTS menu system:

    SHOW_MENU      title option1 option2 ...
    SHOW_MENU_LDF  title option1 option2 ...
         
    JUMP_ON  MENU  label1 label2 ...

  The RTS menu will pause the game (including all scripts) until the user
  presses a valid number key.  Savegames are also disabled while the RTS
  menu is shown.  Once the menu is finished, the JUMP_ON command will
  test the result, and jump to the matching label.  It will fail to jump
  if there aren't enough labels, or menu could not be shown (netgame).

- Four new ammo types: DAGGERS, ARROWS, TORPEDOES, MANA (names inspired
  by Heretic/Hexen/HacX).  That brings the total to twelve.  Limit on
  holdable weapon was also increased from 32 to 64.

- RELOAD states for monsters.  This is controlled by the new command
  RELOAD_SHOTS and the new action RELOAD_CHECK, which tests if the
  monster needs to reload, and if yes then enters its RELOAD states.
  For players, RELOAD states are used whenever the weapon reloads.
  They are optional though.

- new SEQUENCE command for ANIMS.DDF.  Use it to specify the full
  animation sequence.  Names cannot be used twice.  For example:

    SEQUENCE = TEX1, TEX2, TEX3, TEX5, TEX8;
 
- PICKUP_EFFECT = SWITCH_WEAPON(xxx) , required for #VERSION 1.29 and
  higher.  Berserk fist.  Compatibility maintained. @@@

- ULTRA_LOYAL thing special.  Friendly monsters don't turn into enemies
  when hurt by your weapon fire.

- SIDE_IMMUNE thing special.  Friendly monsters are completely immune
  from your weapon fire.

- EXPLODE_RADIUS command for things and attacks.  Normally the explosion
  radius is the same as the damage caused, but this command forces the
  explosion radius to a particular value (e.g. 200).  The amount of
  damage is not affected.

- EXPLODE_IMMUNE and ALWAYS_LOUD thing specials.  These attributes
  are both set by the BOSSMAN special, but now they can be specified
  individually.

- SILENT_TO_MONSTERS is now an attack special too.
- FORCE_PICKUP special for thing.ddf (items).
- DIE action for things and attacks.

- WHEN_APPEAR in DDF and RTS now accepts simpler values.  You can
  use a range for the skill (e.g. "3-5"), you can omit the skill or
  the netmode part (e.g. "DM" means deathmatch on any skill, and "3"
  means Hurt-Me-Plenty on any netmode).  Finally, you can add the '!'
  character to the beginning to negate it, e.g. "!SP" means never in
  single-player, and "!4:5" means never in skills 4 or 5.


New weapon stuff
----------------

+ weapon handling has been generally improved (especially the way clips
  work).  Anything using the CLIPSIZE command is considered a "clip weapon",
  and will store ammo inside of its clip, even when not selected.  Also
  there is support for manual reloading (new key in Keyboard Options).

- There are many new specials.  The following new command is used to
  give specials for the secondary attack:

    SEC_SPECIAL = xxx;

  The ones in the plain "SPECIAL" command apply to the primary attack
  (some might apply to the whole weapon).  The following specials are
  available:

    SILENT_TO_MONSTERS : don't wake up those demons
    ANIMATED           : UP and DOWN states are animated
    NO_SWITCH          : don't switch to new weapon if ammo runs out

    NO_TRIGGER   : prevent reloading by pressing fire button
    FRESH        : reload empty weapon when fresh ammo is picked up
    NO_MANUAL    : disable manual reloading key
    PARTIAL      : for manual reload: allow partial clip refills

  When using the ANIMATED special, the weapon sprite doesn't raise up
  or lower down.  Instead the UP and DOWN states should show an
  animation.  The RAISE and LOWER commands must occur once, in the
  very last frame.

- There are now empty states.  These are shown (instead of ready
  states) when the primary attack runs out of ammo.  You must use
  the "EMPTY" action with the empty states, for example:

    STATES(EMPTY) = ABCD:E:1:NORMAL:EMPTY;

- There are also WARMUP and SECWARMUP states.  These will be entered
  when firing the weapon from the READY states (not for refiring).
  These states jump to the ATTACK and SECATTACK states when finished
  (i.e. you don't need #ATTACK at the end).

- Edge now supports IDLE states.  These are entered from the READY
  or EMPTY states after a certain time has elapsed.  The minimum
  time is given with the IDLE_WAIT command.  There is also an
  IDLE_CHANCE command which is the chance to enter the idle states 
  when the timer runs out.  If the timer runs out and the random
  test fails, then the timer is reset to 1/10th of IDLE_WAIT.

  For example, "IDLE_WAIT=20" means that the random test occurs
  at 20 seconds, 22 seconds, 24 seconds, and so forth, until it
  succeeds.  If the chance is 100%, is succeeds on the first try.

- Finally there are now DISCARD and SECDISCARD states.  They are
  similar to the PARTIAL special: if you press the reload key with
  a half-empty clip (i.e. neither empty nor full), then the clip is
  discarded and the DISCARD states are entered.  These states must
  end with the CHECKRELOAD action to cause the weapon to be reloaded.


New command-line options:
-------------------------

    -deh     Specify a DeHackEd (or BEX) patch file.  You can have
             multiple patch files after the -deh option.


Hats off to...
--------------

Special mention to Erik Sandberg's contribution to EDGE. It's worth a
note that he did a shedload of quality work and made a special effort
to make sure we were GPL legal - something we maintain now.  We do
this since because we have recently removed the software renderer,
we removed about 90% of the work he put into EDGE.

